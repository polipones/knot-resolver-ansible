###########################################################
# Resolver default variables

## Listen addresses and ports for DNS service (avoid using wildcards)
dns_listen_addresses:
  - "127.0.0.1"
  - "::1"
dns_listen_port_unencrypted: "53"

# Enable DNS over TLS
# We have to generate and sign cert from Let's Encrypt, you should have open port 80 in your firewall for web server used by acme script
dns_tls_enable: true
dns_tls_cert_key_directory: "/etc/knot-resolver"
dns_letsencrypt_email: mail@example.com
# FQDN - fully qualified domain name (cert will be issued for this name)
dns_letsencrypt_fqdn: resolver.example.com
dns_listen_port_tls: "853"

## Cache size in MB (choose based on amount of system memory)
# https://knot-resolver.readthedocs.io/en/v5.3.2/daemon-bindings-cache.html#sizing
dns_cache_size: 512

## Create tmpfs and use cache in memory
# https://knot-resolver.readthedocs.io/en/v5.3.2/daemon-bindings-cache.html#persistence
dns_cache_in_memory: true

## Launch multiple instances (recommended same as number of CPU cores, all share same cache)
# https://knot-resolver.readthedocs.io/en/v5.3.2/systemd-multiinst.html#multiple-instances
dns_num_of_instances: 2

## Restrict DNS resolving to subnet
# https://knot-resolver.readthedocs.io/en/stable/quickstart-config.html#limiting-client-access
dns_only_allowed_subnets: false
dns_allowed_subnets:
  - "192.168.0.0/24"

# Enable periodic statistics logging
dns_statistics_log_enable: true
# Statistics log interval in minutes
dns_statistics_log_interval: 3

# Forward queries under specified domain to nameserver
dns_explicit_forward_enabled: false
dns_explicit_forward_list:
  - nameserver: '192.168.0.1' # NS IP
    domain: 'sub.example.com' # Domain (and its subdomains) being forwarded